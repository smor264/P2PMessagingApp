<html>
<head>
	<link href="static/style.css" rel="stylesheet">
	<script>
	function httpGetAsync(url,parameter)
	{
		var xmlhttp = new XMLHttpRequest();
		xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readState == 4 && xmlhttp.status == 200) {
				console.log(xmlhttp.responseText);
				}
				document.getElementById(parameter).innerHTML = xmlhttp.responseText;
			
	}
	xmlhttp.open("GET", url, true);
	xmlhttp.send();
	}
	
	</script>
</head>
<header>
<title>Welcome!</title>
</header>
	<body>
		<div class= "titletext">
			<h1> Main </h1>
		</div>
		<div class= "bodytext">
			Successfully logged in! <br/><br/>
			<p id="main"></p>
		</div>
		<div class= "sidebar">
			Current online users:
			<aside id="username"></aside>
		</div>
		<script>
		//window.onload = httpGetAsync("/updateUserList?parameter=username",'username');
		var func = httpGetAsync("/updateUserList?parameter=username",'username');
		function foo() {
			document.getElementById("main").innerHTML = "general kenobi";
		}
		var foofunc = foo();
		setInterval(foofunc,500);
		setInterval(func,1000);
		</script>
	</body>
</html>	