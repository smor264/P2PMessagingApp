<html>
<head>
	<link href="static/style.css" rel="stylesheet">

</head>
<header>
<title>Welcome!</title>
</header>
	<body>
		<div class= "titletext">
			<h1> Main </h1>
		</div>
		<div class= "bodytext">
			Successfully logged in! <br/><br/>
			<p id="main"></p>
		</div>
		<div class= "sidebar">
			Current online users:
			<aside id="username"></aside>
		</div>
	</body>
	<footer>
	<script>
	/*function httpGetAsync(url,parameter)
	{
		var xmlhttp = new XMLHttpRequest();
		xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
				console.log(xmlhttp.responseText);
				document.getElementById(parameter).innerHTML = xmlhttp.responseText;
				}	
	};
	xmlhttp.open("GET", url, true);
	xmlhttp.send();
	};
	var func = httpGetAsync("/updateUserList?parameter=username",'username');
	setInterval(func,1000);
	*/
	function httpGetAsync()
	{
		url = "/updateUserList?parameter=username";
		var xmlhttp = new XMLHttpRequest();
		xmlhttp.onreadystatechange = function() {
			if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
				console.log(xmlhttp.responseText);
				document.getElementById("username").innerHTML = xmlhttp.responseText;
				}	
		};
	xmlhttp.open("GET", url, true);
	xmlhttp.send();
	};
	setInterval(httpGetAsync,2000);
	
	
	function foo() {
	var currentDate = new Date();
		document.getElementById("main").innerHTML = currentDate.getSeconds();
	};	
	var foofunc = foo();
	setInterval(foofunc,500);
	</script>
	</footer>
</html>	